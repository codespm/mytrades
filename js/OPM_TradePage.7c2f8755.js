"use strict";(self["webpackChunkmytrades"]=self["webpackChunkmytrades"]||[]).push([[472],{7978:function(e,t,a){var l=a(4870),r=a(65);const o=({title:e,message:t={}})=>{const a=(0,r.oR)();a.commit("setTitle",e),a.commit("setMessage",t);const o=(0,l.iH)(!0),s=({value:e,type:t})=>{a.commit("setMessage",{value:e,type:t})};return{isLoading:o,setMessage:s}};t["Z"]=o},4289:function(e,t,a){a.d(t,{Z:function(){return n}});var l=a(3396);const r=function(e){if(parseFloat(e)===parseInt(e))return e;var t=function(e,a){return a<1e-7?e:t(a,Math.floor(e%a))},a=e.toString().length-2,l=Math.pow(10,a),r=e*l,o=t(r,l);r/=o,l/=o;var s=0;return r>l&&(s=Math.floor(r/l),r-=s*l),e=Math.floor(r)+"/"+Math.floor(l),s&&(e=s+" "+e),e};var o=r;const s=function(e){const t=(0,l.Fl)((()=>{const t=e,a="long"===t.value.position,l=t.value.priceClose,r=t.value.priceIn,o=t.value.x,s=0===(0===r||""===r)?1:r,n=0===l||""===l?1:l;return a?(l-r)/s*o*100:(r-l)/n*o*100})),a=(0,l.Fl)((()=>{const a=e,l="MARKET"===a.value.mL,r=a.value.priceIn===a.value.priceClose,o=t.value,s=a.value.x;return l?r?.225*s:-(o/100*(.225*s)-o):r?.025:o/100*(.025*s)+o})),r=(0,l.Fl)((()=>{const t=e;return t.value.takeProfit>0&&t.value.priceIn>0?t.value.takeProfit-t.value.priceIn:0})),s=(0,l.Fl)((()=>{const t=e;return t.value.priceIn>0&&t.value.stopLoss>0?t.value.priceIn-t.value.stopLoss:0})),n=(0,l.Fl)((()=>{const e=parseFloat(s.value),t=parseFloat(r.value);if(0!==e&&0!==t){let a=e/t;return e<0&&(a=-e/t),a=o(a),a.toString().split("/").join(":")}return"REVISAR"})),c=(0,l.Fl)((()=>{const t=e,l="MARKET"===t.value.lM,r=t.value.priceIn===t.value.priceClose,o=a.value,s=t.value.x;return l?r?-(.225*s+o):-(o/100*(.225*s)-o):r?.025*s+o:o/100*(.025*s)+o})),i=(0,l.Fl)((()=>{let t=e,a=0,l=0,r=0,o=0,s=0,n=0,c=0,i=0,d=0,u=t.value.length>0,p="",m="",f="",v="",b="";if(u){t.value.forEach((e=>{let t=parseFloat(e.calcReturn);t>0?(c+=t,r++):(i+=t,o++),a+=parseFloat(e.calcReturn),l++})),0===o&&(o=1),0===r&&(r=1),a/=0===l?1:l,s=r/(0===l?1:l)*100;let e=i/o,u=c/r,g=s/100;e=0===e?1:e,u=0===u?1:u,n=(g-(1-g)/(e/u))/10/2*100;let x=(100-100*g)/100,_=c/r*(0===g?1:g),k=i/o*(0===x?1:x);d=0!==k?0!==_?-1*(g*(_/k)-x):0:g*_*100,p=d<1?"| Sistema NO Rentable":"| Sistema Rentable",m=g<50&&s<0?"| Mas stop loss que take profits":"",f=2===n?"| Tamaño de posición neutral":n>2?"| Posición Agresiva":"",v="| ¿Leverage en perdidas muy alto? ¿RRR bajo?",b=x>90?"| ¿stop-loss muy cercano a la entrada?":""}return{avgReturn:a,porcOK:s,fKelly:n,mat:d,sysRent:p,SLTP:m,position:f,question:v,SLPI:b}}));return{calcR:t,calcR2:a,calcRF:r,calcRisk:s,calcRrr:n,calcReturn:c,calcTotals:i}};var n=s},7662:function(e,t){const a=e=>{console.log(e);let t=0===e||void 0===e?new Date:new Date(e),a=t.getDate(),l=t.getMonth()+1,r=t.getFullYear(),o=(t.getHours()<=9?"0":"")+t.getHours(),s=(t.getMinutes()<=9?"0":"")+t.getMinutes();return r+"-"+(l<=9?"0"+l:l)+"-"+(a<=9?"0"+a:a)+" "+o+":"+s},l=()=>{let e=new Date,t=e.getDate(),a=e.getMonth()+1,l=e.getFullYear(),r=(e.getHours()<=9?"0":"")+e.getHours(),o=(e.getMinutes()<=9?"0":"")+e.getMinutes(),s=(e.getSeconds()<=9?"0":"")+e.getSeconds();return l+"-"+(a<=9?"0"+a:a)+"-"+(t<=9?"0"+t:t)+"-"+r+"-"+o+"-"+s};t["Z"]={getTimeToFormat:a,currentDateTime:l}},6741:function(e,t,a){a.r(t),a.d(t,{default:function(){return He}});var l=a(3396),r=a(9242),o=a(7139);const s={key:0,class:"my-2"},n={class:"row"},c={class:"col-12 col-md-3"},i={class:"form-floating mb-2"},d=(0,l._)("label",{for:"inputPER",class:"text-warning"},"Crypto/Token",-1),u={class:"col-12 col-md-3 mb-2"},p=(0,l._)("label",{class:"text-muted",for:"Position"},"Position",-1),m=(0,l._)("br",null,null,-1),f={class:"form-check form-check-inline"},v=(0,l._)("label",{class:"form-check-label text-muted border-bottom border-danger border-1",for:"flexRadioDefault1"},"Short",-1),b={class:"form-check form-check-inline"},g=(0,l._)("label",{class:"form-check-label text-muted border-bottom border-success border-1",for:"flexRadioDefault2"},"Long",-1),x={class:"row"},_={class:"col-12 col-md-3"},k={class:"form-floating mb-2"},y=(0,l._)("label",{for:"inputX",class:"text-warning"},"Leverage (X)",-1),w={class:"col-12 col-md-3"},R={class:"form-floating mb-2"},h=(0,l._)("label",{for:"inputPriceIn",class:"text-warning"},"Entry Price",-1),M={class:"col-12 col-md-3 mb-2"},T=(0,l._)("label",{class:"text-muted",for:"inputML"},"M/L",-1),C=(0,l._)("br",null,null,-1),D={class:"form-check form-check-inline"},U=(0,l._)("label",{class:"form-check-label text-muted",for:"flexRadioDefault3"},"Market (*)",-1),L={class:"form-check form-check-inline"},P=(0,l._)("label",{class:"form-check-label text-muted",for:"flexRadioDefault4"},"Limit (*)",-1),F={class:"row"},I={class:"col-12 col-md-3"},A={class:"form-floating mb-2"},S=(0,l._)("label",{for:"inputStopLoss",class:"text-warning"},"Stop Loss",-1),V={class:"col-12 col-md-3"},Z={class:"form-floating mb-2"},E=(0,l._)("label",{for:"inputTakeProfit",class:"text-warning"},"Take Profit",-1),B={class:"col-12 col-md-3"},H={class:"form-floating mb-2"},K=(0,l._)("label",{for:"inputPriceClose",class:"text-warning"},"Close Price",-1),O={class:"col-12 col-md-3 mb-2"},X=(0,l._)("label",{class:"text-muted",for:"inputLM"},"L/M",-1),z=(0,l._)("br",null,null,-1),G={class:"form-check form-check-inline"},N=(0,l._)("label",{class:"form-check-label text-muted",for:"flexRadioDefault5"},"Market (*)",-1),j={class:"form-check form-check-inline"},q=(0,l._)("label",{class:"form-check-label text-muted",for:"flexRadioDefault6"},"Limit (*)",-1),Y={class:"row"},J={class:"col-6 col-md-3"},Q={class:"form-floating mb-2"},W=(0,l._)("label",{for:"inputCreatedByUser",class:"text-warning"},"Created by User",-1),$={key:0,class:"col-6 col-md-3"},ee={class:"form-floating mb-2"},te=(0,l._)("label",{for:"inputCreatedAt",class:"text-warning"},"Created At (readonly)",-1),ae={key:0,class:"col-12 p-0 text-muted text-end"},le=(0,l._)("hr",{class:"border border-2 border-dark"},null,-1),re=(0,l.Uk)(" or "),oe=(0,l.Uk)("  "),se={key:1,class:"col-12 p-0 text-muted text-end"},ne=(0,l._)("hr",{class:"border border-2 border-dark"},null,-1),ce=(0,l.Uk)(" or "),ie=(0,l.Uk)("  "),de=(0,l._)("div",{class:"col-12 p-4"},null,-1),ue=[de],pe={key:1,class:"text-white"},me=(0,l._)("div",{class:"d-flex justify-content-center"},[(0,l._)("div",{class:"spinner-border m-5 text-warning",role:"status"},[(0,l._)("span",{class:"visually-hidden"},"Loading...")])],-1),fe=[me],ve={class:"container-fluid justify-content-end"},be=(0,l._)("strong",null,"%calcReturn",-1),ge=(0,l._)("strong",null,"%calcR",-1),xe=(0,l._)("strong",null,"Risk",-1),_e={class:"text-center px-1 py-0 text-muted"},ke=(0,l._)("strong",null,"RF",-1),ye=(0,l._)("strong",null,"calcRrr",-1),we=(0,l._)("strong",null,"calcR2",-1),Re={class:"row m-0 mt-2 px-2"},he={key:0,class:"col-12 p-0 text-muted text-end"},Me=(0,l.Uk)(" or "),Te=(0,l.Uk)("  "),Ce={key:1,class:"col-12 p-0 text-muted text-end"},De=(0,l.Uk)(" or "),Ue=(0,l.Uk)("  ");function Le(e,t,a,de,me,Le){return(0,l.wg)(),(0,l.iD)(l.HY,null,[de.isLoading?((0,l.wg)(),(0,l.iD)("div",pe,fe)):((0,l.wg)(),(0,l.iD)("form",s,[(0,l._)("div",n,[(0,l._)("div",c,[(0,l._)("div",i,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>de.trade.per=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",id:"inputPER",placeholder:"BTC"},null,512),[[r.nr,de.trade.per]]),d])]),(0,l._)("div",u,[p,m,(0,l._)("div",f,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>de.trade.position=e),class:"form-check-input shadow-none",value:"short",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault1",checked:""},null,512),[[r.G2,de.trade.position]]),v]),(0,l._)("div",b,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>de.trade.position=e),class:"form-check-input shadow-none",value:"long",type:"radio",name:"flexRadioDefault",id:"flexRadioDefault2"},null,512),[[r.G2,de.trade.position]]),g])])]),(0,l._)("div",x,[(0,l._)("div",_,[(0,l._)("div",k,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>de.trade.x=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",id:"inputX",placeholder:"8"},null,512),[[r.nr,de.trade.x]]),y])]),(0,l._)("div",w,[(0,l._)("div",R,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>de.trade.priceIn=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",step:"0.000000000001",id:"inputPriceIn",placeholder:"0.0001"},null,512),[[r.nr,de.trade.priceIn]]),h])]),(0,l._)("div",M,[T,C,(0,l._)("div",D,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>de.trade.mL=e),class:"form-check-input shadow-none",value:"MARKET",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault3",checked:""},null,512),[[r.G2,de.trade.mL]]),U]),(0,l._)("div",L,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>de.trade.mL=e),class:"form-check-input shadow-none",value:"LIMIT",type:"radio",name:"flexRadioDefault2",id:"flexRadioDefault4"},null,512),[[r.G2,de.trade.mL]]),P])])]),(0,l._)("div",F,[(0,l._)("div",I,[(0,l._)("div",A,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>de.trade.stopLoss=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",step:"0.000000000001",id:"inputStopLoss",placeholder:"0.0001"},null,512),[[r.nr,de.trade.stopLoss]]),S])]),(0,l._)("div",V,[(0,l._)("div",Z,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=e=>de.trade.takeProfit=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",step:"0.000000000001",id:"inputTakeProfit",placeholder:"0.0001"},null,512),[[r.nr,de.trade.takeProfit]]),E])]),(0,l._)("div",B,[(0,l._)("div",H,[(0,l.wy)((0,l._)("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>de.trade.priceClose=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",step:"0.000000000001",id:"inputPriceClose",placeholder:"0.0001"},null,512),[[r.nr,de.trade.priceClose]]),K])]),(0,l._)("div",O,[X,z,(0,l._)("div",G,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>de.trade.lM=e),class:"form-check-input shadow-none",value:"MARKET",type:"radio",name:"flexRadioDefault3",id:"flexRadioDefault5",checked:""},null,512),[[r.G2,de.trade.lM]]),N]),(0,l._)("div",j,[(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>de.trade.lM=e),class:"form-check-input shadow-none",value:"LIMIT",type:"radio",name:"flexRadioDefault3",id:"flexRadioDefault6"},null,512),[[r.G2,de.trade.lM]]),q])])]),(0,l._)("div",Y,[(0,l._)("div",J,[(0,l._)("div",Q,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=e=>de.trade.createdByUser=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",id:"inputCreatedByUser",placeholder:"31/10/2008 01:02:03"},null,512),[[r.nr,de.trade.createdByUser]]),W])]),de.isNewTrade?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",$,[(0,l._)("div",ee,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=e=>de.trade.createdAt=e),class:"form-control text-uppercase form-control-sm bg-dark text-white border-0 shadow-none",id:"inputCreatedAt",placeholder:"",readonly:""},null,512),[[r.nr,de.trade.createdAt]]),te])]))]),(0,l._)("div",{class:(0,o.C_)(["row m-0 mb-2",{"d-none":de.buttonsDisplay}])},[de.isNewTrade?((0,l.wg)(),(0,l.iD)("div",ae,[le,(0,l._)("button",{class:"btn btn-warning",onClick:t[14]||(t[14]=(0,r.iM)((e=>de.saveTrade("")),["prevent"]))},"Create"),re,(0,l._)("button",{class:"btn btn-dark",onClick:t[15]||(t[15]=(0,r.iM)((e=>de.saveTrade("test")),["prevent"]))},"Create as Test"),oe,(0,l._)("button",{class:"btn btn-dark",onClick:t[16]||(t[16]=(0,r.iM)((e=>de.buttonsDisplay=!0),["prevent"]))},"X")])):((0,l.wg)(),(0,l.iD)("div",se,[ne,(0,l._)("button",{class:"btn btn-warning",onClick:t[17]||(t[17]=(0,r.iM)((e=>de.saveTrade()),["prevent"]))},"Save"),ce,(0,l._)("button",{class:"btn btn-danger",onClick:t[18]||(t[18]=(0,r.iM)((e=>de.removeTrade()),["prevent"]))},"Delete"),ie,(0,l._)("button",{class:"btn btn-dark",onClick:t[19]||(t[19]=(0,r.iM)((e=>de.buttonsDisplay=!0),["prevent"]))},"X")]))],2),(0,l._)("div",{class:(0,o.C_)(["row",{"d-none":!de.buttonsDisplay}])},ue,2)])),(0,l._)("nav",{class:(0,o.C_)(["navbar fixed-bottom bg-dark bg-opacity-75 py-2 px-1",{"d-none":!de.buttonsDisplay}])},[(0,l._)("div",ve,[(0,l._)("span",{class:(0,o.C_)(["text-center px-1 py-0",[de.calcReturn<0?"text-danger text-opacity-75":"text-success"]])},[be,(0,l.Uk)(" "+(0,o.zw)(de.calcReturn.toFixed(2))+"%",1)],2),(0,l._)("span",{class:(0,o.C_)(["text-center px-1 py-0",[de.calcR<0?"text-danger text-opacity-75":"text-success"]])},[ge,(0,l.Uk)(" "+(0,o.zw)(de.calcR.toFixed(2))+"%",1)],2),(0,l._)("span",{class:(0,o.C_)(["text-center px-1 py-0",[de.calcRisk<0?"text-danger text-opacity-75":"text-success"]])},[xe,(0,l.Uk)(" "+(0,o.zw)(de.calcRisk.toFixed(2))+"%",1)],2),(0,l._)("span",_e,[ke,(0,l.Uk)(" "+(0,o.zw)(de.calcRF.toFixed(2)),1)]),(0,l._)("span",{class:(0,o.C_)(["text-center px-1 py-0",[de.calcRrr<0?"text-danger text-opacity-75":0===de.calcRrr?"text-warning":"text-success"]])},[ye,(0,l.Uk)(" "+(0,o.zw)(de.calcRrr)+"%",1)],2),(0,l._)("span",{class:(0,o.C_)(["text-center px-1 py-0",[de.calcR2<0?"text-danger text-opacity-75":"text-success"]])},[we,(0,l.Uk)(" "+(0,o.zw)(de.calcR2.toFixed(2)),1)],2),(0,l._)("div",Re,[de.isNewTrade?((0,l.wg)(),(0,l.iD)("div",he,[(0,l._)("button",{class:"btn btn-warning",onClick:t[20]||(t[20]=(0,r.iM)((e=>de.saveTrade("")),["prevent"]))},"Create"),Me,(0,l._)("button",{class:"btn btn-dark border border-warning",onClick:t[21]||(t[21]=(0,r.iM)((e=>de.saveTrade("test")),["prevent"]))},"Create as test"),Te,(0,l._)("button",{class:"btn btn-dark",onClick:t[22]||(t[22]=(0,r.iM)((e=>de.buttonsDisplay=!1),["prevent"]))},"X")])):((0,l.wg)(),(0,l.iD)("div",Ce,[(0,l._)("button",{class:"btn btn-warning",onClick:t[23]||(t[23]=(0,r.iM)((e=>de.saveTrade()),["prevent"]))},"Save"),De,(0,l._)("button",{class:"btn btn-danger",onClick:t[24]||(t[24]=(0,r.iM)((e=>de.removeTrade()),["prevent"]))},"Delete"),Ue,(0,l._)("button",{class:"btn btn-dark",onClick:t[25]||(t[25]=(0,r.iM)((e=>de.buttonsDisplay=!1),["prevent"]))},"X")]))])])],2)],64)}a(7658);var Pe=a(4870),Fe=a(2483),Ie=a(9235),Ae=a(7662),Se=a(4289),Ve=a(7978),Ze={name:"OPMTradePage",props:{id:String},emits:[],setup(){const e="form-control form-control-sm bg-dark text-white border-0",t=(0,Fe.tv)(),a=(0,Fe.yj)(),r=void 0===a.params.id,o=(0,Ve.Z)({title:r?"New Trade OPM":"Trade OPM #"+a.params.id}),s=(0,Pe.iH)(!0),n=(0,Pe.iH)({id:r?0:a.params.id,per:"",position:"short",x:1,priceIn:0,mL:"MARKET",stopLoss:0,takeProfit:0,priceClose:0,calcRisk:0,calcRF:0,lM:"MARKET",calcRrr:0,calcR:0,calcR2:0,calcReturn:0,createdByUser:Ae.Z.getTimeToFormat((new Date).getTime()),orderType:"test",createdAt:(new Date).getTime(),status:"open"}),{calcR:c,calcR2:i,calcRrr:d,calcRF:u,calcRisk:p,calcReturn:m}=(0,Se.Z)(n),f=e=>{n.value.createdByUser=Date.parse(n.value.createdByUser),n.value.orderType=void 0===e?n.value.orderType:e,n.value.status=""!==n.value.priceClose?"closed":"open",n.value.calcReturn=m,n.value.calcR=c,n.value.calcR2=i,n.value.calcRrr=d,n.value.calcRF=u,n.value.calcRisk=p,Ie.Z.save({...n.value}),o.setMessage({value:"¡trade saved!",type:"success"}),t.push({name:"OPMTradeListPage"})},v=()=>{Ie.Z.remove(n.value),o.setMessage({value:"¡trade removed!",type:"success"}),t.push({name:"OPMTradeListPage"})};return(0,l.bv)((()=>{r?o.isLoading.value=!1:Ie.Z.get(a.params.id).then((e=>{e.createdByUser=Ae.Z.getTimeToFormat(e.createdByUser),e.createdAt=Ae.Z.getTimeToFormat(e.createdAt),n.value=e,setTimeout((function(){o.isLoading.value=!1}),200)})).catch((()=>t.push({name:"OPMTradeListPage",params:{message:"Err!"}})))})),{buttonsDisplay:s,classCommon:e,trade:n,calcReturn:m,calcR:c,calcR2:i,calcRrr:d,calcRF:u,calcRisk:p,isNewTrade:r,isLoading:o.isLoading,saveTrade:f,removeTrade:v,common:Ae.Z}}},Ee=a(89);const Be=(0,Ee.Z)(Ze,[["render",Le]]);var He=Be}}]);
//# sourceMappingURL=OPM_TradePage.7c2f8755.js.map
{"version":3,"file":"js/OPM_TradeListPage.811bd962.js","mappings":"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","sources":["webpack://mytrades/./src/utils/numberToFraction.js","webpack://mytrades/./src/utils/calcOPM.js","webpack://mytrades/./src/pages/OPM/TradeListPage.vue","webpack://mytrades/./src/pages/OPM/TradeListPage.vue?42e2"],"sourcesContent":["/**\r\n * from code: https://gist.github.com/danielbachhuber/ed56cde1eabd6677e34e23cb56f591b6\r\n * \r\n * Converts numbers to fractions:\r\n * - 1.25 to 1 1/4\r\n * - 2 to 2\r\n */\r\nconst numberToFraction = function( amount ) {\r\n    // This is a whole number and doesn't need modification.\r\n    if ( parseFloat( amount ) === parseInt( amount ) ) {\r\n        return amount;\r\n    }\r\n    // Next 12 lines are cribbed from https://stackoverflow.com/a/23575406.\r\n    var gcd = function(a, b) {\r\n        if (b < 0.0000001) {\r\n            return a;\r\n        }\r\n        return gcd(b, Math.floor(a % b));\r\n    };\r\n    var len = amount.toString().length - 2;\r\n    var denominator = Math.pow(10, len);\r\n    var numerator = amount * denominator;\r\n    var divisor = gcd(numerator, denominator);\r\n    numerator /= divisor;\r\n    denominator /= divisor;\r\n    var base = 0;\r\n    // In a scenario like 3/2, convert to 1 1/2\r\n    // by pulling out the base number and reducing the numerator.\r\n    if ( numerator > denominator ) {\r\n        base = Math.floor( numerator / denominator );\r\n        numerator -= base * denominator;\r\n    }\r\n    amount = Math.floor(numerator) + '/' + Math.floor(denominator);\r\n    if ( base ) {\r\n        amount = base + ' ' + amount;\r\n    }\r\n    return amount;\r\n}\r\n\r\nexport default numberToFraction","/*\r\n\r\nRdP = Registro de posiciones\r\n\r\nB   ;C      ;D          ;E;F        ;G  ;H          ;I          ;J      ;K  ;L      ;M  ;N  ;O  ;P  ;Q\r\nDIA ;MONEDA ;POSICION   ;X;ENTRADA  ;M/L;STOP_LOSS  ;TAKE_PROFIT;SALIDA;RISK;REWARD ;L/M;RRR;R  ;R2 ;RETORNO\r\n\r\nOCULTOS POR DEFAULT\r\n\r\n- RISK (K)      = =IF(AND('RdP'!$F3>0;'RdP'!$H3>0);'RdP'!$F3-'RdP'!$H3;0)\r\n- REWARD (L)    = =IF(AND('RdP'!$I3>0;'RdP'!$F3>0);'RdP'!$I3-'RdP'!$F3;0)\r\n- R (O)         = =IF('RdP'!$D3=\"LONG\";(('RdP'!$J3-'RdP'!$F3)/'RdP'!$F3)*'RdP'!$E3; (('RdP'!$F3-'RdP'!$J3)/'RdP'!$J3)*'RdP'!$E3)\r\n- R2 (P)        = =IF('RdP'!$G$3:$G$7=\"MARKET (*)\";IF('RdP'!$F3='RdP'!$J3;-0,225%*'RdP'!$E3;'RdP'!$O3-'RdP'!$O3*(0,225%*'RdP'!$E3));(IF('RdP'!$F3='RdP'!$J3;0,025%;'RdP'!$O3+'RdP'!$O3*(0,025%*'RdP'!$E3))))\r\n\r\nRRR     = =IF(AND('RdP'!$K3<>0;'RdP'!$L3<>0);(SUBSTITUTE(TEXT('RdP'!$K3/'RdP'!$L3;\"?/?\");\"/\";\":\"));\"REVISAR\")\r\nRETORNO = =IF(AND('RdP'!$D$3:$D$7<>0;'RdP'!$F$3:$F$7<>0;'RdP'!$G$3:$G$7<>0;'RdP'!$H$3:$H$7<>0;'RdP'!$I$3:$I$7<>0;'RdP'!$J$3:$J$7<>0;'RdP'!$M3<>0);IF('RdP'!$M$3:$M$7=\"MARKET (*)\";IF('RdP'!$F3='RdP'!$J3;-0,225%*'RdP'!$E3+'RdP'!$P3;'RdP'!$P3-'RdP'!$P3*(0,225%*'RdP'!$E3));(IF('RdP'!$F3='RdP'!$J3;0,025%*'RdP'!$E3+'RdP'!$P3;'RdP'!$P3+'RdP'!$P3*(0,025%*'RdP'!$E3))));\"COMPLETAR\")\r\n\r\nESPERANZA MATEMATICA    = =IF(COUNT('RdP'!$Q$3:$Q$7)>=5;IF(AB3<>0;IF(AA3<>0;((E13*(AA3/AB3))-E14)*-1;0);E13*AA3*100);\"AGREGAR TRADES\")\r\nCANTIDAD DE ACIERTOS    = =IF(SUM('RdP'!$Q$3:$Q$7)<>0;COUNTIF('RdP'!$Q$3:$Q$7;\">0\")/COUNT('RdP'!$Q$3:$Q$7);\"REVISAR\")\r\nF DE KELLY              = =IF(AND(E12<1;E13<0,5);2%;IF(SUM('RdP'!$Q$3:$Q$7)<>0;IF(AND(NOT(E12=\"AGREGAR TRADES\");E12>1;E13>0,5);(E13-(1-E13)/(AB4/AA4))/10/2;2%);\"REVISAR\"))\r\nPROMEDIO RESULTADOS     = =IF(E13<>\"REVISAR\";IF(AVERAGE('RdP'!$Q$3:$Q$7)=0;\"REVISAR\";AVERAGE('RdP'!$Q$3:$Q$7));\"REVISAR\")\r\n\r\nOTROS DATOS (E12 = Esperanza Matematica, E13 = Cantidad de aciertos, E14 = F de Kelly, E15 = Promedio Resultados)\r\n- =IF(E12<>\"AGREGAR TRADES\";IF(E12<1;\"(*) SISTEMA NO RENTABLE\";\"(*) SISTEMA RENTABLE\");0)\r\n- =IF(E13<>\"REVISAR\";IF(AND(E13<50%;E16<0);\"(*) MAS STOP LOSS QUE TAKE PROFITS\";0);0)\r\n- =IF(E15=2%;\"(*) TAMAÑO DE POSICION NEUTRAL\";IF(E15>2%;\"(*) POSICION AGRESIVA\"))\r\n- =IF(E12<>\"AGREGAR TRADES\";IF(AND(E16<0;E12<>0;IF(E13<>0;(AVERAGEIF('RdP'!$Q$3:$Q$7;\">0\")/-AVERAGEIF('RdP'!$Q$3:$Q$7;\"<0\")-1)<-20%;0);E13>=E14);\"(*) ¿LEVERAGE EN PERDIDAS MUY ALTO? ¿RRR BAJO?\";0);0)\r\n\r\nEsperanza matematica: IF(AB3<>0;IF(AA3<>0;((E13*(AA3/AB3))-E14)*-1;0);E13*AA3*100);\r\nCantidad de aciertos se calcula: (cantidad de retorno > 0 / cantidad de retornos) * 100\r\nF de Kelly se calcula: ((E13-(1-E13)/(AB4/AA4))/10/2) * 100\r\nPromedio Resultados: average(retorno)\r\n\r\nAB4 = AVERAGE(NEGATIVAS RETORNO) \r\nAA4 = AVERAGE(POSITIVAS RETORNO)\r\nAA3 = SUM(POSITIVAS RETORNO) / total trades con retorno\r\nAB3 = SUM(NEGATIVAS RETORNO) / total trades con retorno\r\n*/\r\n\r\nimport { computed } from 'vue'\r\nimport numberToFraction from '@/utils/numberToFraction'\r\n\r\nconst calcOPM = function(data) {\r\n\r\n    const calcR = computed(() => {\r\n        const trade             = data\r\n        const isPositionLong    = trade.value.position === \"long\"\r\n        const priceClose        = trade.value.priceClose\r\n        const priceIn           = trade.value.priceIn\r\n        const xValue            = trade.value.x\r\n        const divPriceIn        = (priceIn === 0 || priceIn === \"\") === 0 ? 1 : priceIn\r\n        const divPriceClose     = (priceClose === 0 || priceClose === \"\") ? 1 : priceClose\r\n\r\n        if(isPositionLong) {\r\n            return (((priceClose - priceIn) / divPriceIn) * xValue) * 100\r\n        }\r\n        return (((priceIn - priceClose) / divPriceClose) * xValue) * 100\r\n\r\n    })\r\n \r\n    const calcR2 = computed(() => {\r\n        const trade         = data\r\n        const isMlMarket    = trade.value.mL === \"MARKET\"\r\n        const isEqualPrice  = trade.value.priceIn === trade.value.priceClose\r\n        const calcRValue    = calcR.value\r\n        const xValue        = trade.value.x\r\n\r\n        if(isMlMarket) {\r\n            if(isEqualPrice) {\r\n                return -(-0.225 * xValue)\r\n            }\r\n            return -((calcRValue/100) * (0.225 * xValue) - calcRValue)\r\n        }\r\n\r\n        if(isEqualPrice) {\r\n            return 0.025\r\n        }\r\n        return (calcRValue/100 * (0.025 * xValue)) + calcRValue\r\n\r\n    })\r\n\r\n    const calcRF = computed(() => {\r\n        const trade = data\r\n        if(trade.value.takeProfit > 0 && trade.value.priceIn > 0) {\r\n            return (trade.value.takeProfit - trade.value.priceIn)\r\n        }\r\n        return 0\r\n    })\r\n\r\n    const calcRisk = computed(() => {\r\n        const trade = data\r\n        if(trade.value.priceIn > 0 && trade.value.stopLoss > 0) {\r\n            return (trade.value.priceIn - trade.value.stopLoss)\r\n        }\r\n        return 0\r\n    })\r\n\r\n    const calcRrr = computed(() => {\r\n        const calcRiskValue = parseFloat(calcRisk.value)\r\n        const calcRFValue   = parseFloat(calcRF.value)\r\n\r\n        if(calcRiskValue !== 0 && calcRFValue !== 0) {\r\n            let calcRRRF = calcRiskValue/calcRFValue\r\n            if(calcRiskValue < 0) {\r\n                calcRRRF = -(calcRiskValue)/calcRFValue\r\n            }\r\n            calcRRRF = numberToFraction(calcRRRF);\r\n            return calcRRRF.toString().split(\"/\").join(\":\")\r\n        }\r\n\r\n        return \"REVISAR\"\r\n\r\n    })\r\n\r\n    const calcReturn = computed(() => {\r\n        const trade         = data\r\n        const isLmMarket    = trade.value.lM === 'MARKET'\r\n        const isEqualPrice  = trade.value.priceIn === trade.value.priceClose\r\n        const calcR2Value   = calcR2.value\r\n        const xValue        = trade.value.x\r\n\r\n        if(isLmMarket) {\r\n          if(isEqualPrice) {\r\n            return -(-(-0.225 * xValue) + calcR2Value) // -0.225 * (xValue + calcR2Value)\r\n          } \r\n          return -((calcR2Value/100) * (0.225 * xValue) - calcR2Value)\r\n        }\r\n\r\n        if(isEqualPrice) {\r\n            return (0.025 * xValue) + calcR2Value\r\n        }  \r\n        return (calcR2Value/100 * (0.025 * xValue)) + calcR2Value\r\n        \r\n    })\r\n\r\n    const calcTotals = computed(() => {\r\n        let trades          = data\r\n        let avgReturn       = 0\r\n        let avgReturnCount  = 0\r\n        let returnMay0      = 0\r\n        let returnMin0      = 0\r\n        let porcOK          = 0\r\n        let fKelly          = 0\r\n        let sumReturnPos    = 0\r\n        let sumReturnNeg    = 0\r\n        let mat             = 0\r\n        let hasTrades       = trades.value.length > 0\r\n        let sysRent         = \"\"\r\n        let SLTP            = \"\" \r\n        let position        = \"\" \r\n        let question        = \"\"\r\n        let SLPI            = \"\"\r\n\r\n        if(hasTrades) {\r\n        \r\n            trades.value.forEach( trade => {\r\n          \r\n                let ret = parseFloat(trade.calcReturn)\r\n        \r\n                if(ret > 0) {\r\n                  sumReturnPos += ret\r\n                  returnMay0++\r\n                } else {\r\n                  sumReturnNeg += ret\r\n                  returnMin0++\r\n                }\r\n        \r\n                avgReturn += parseFloat(trade.calcReturn)\r\n                avgReturnCount++\r\n        \r\n              }) \r\n      \r\n              if(returnMin0 === 0) returnMin0 = 1\r\n              if(returnMay0 === 0) returnMay0 = 1\r\n      \r\n              avgReturn   = avgReturn/(avgReturnCount === 0 ? 1 : avgReturnCount)\r\n              porcOK      = (returnMay0/(avgReturnCount === 0 ? 1 : avgReturnCount)) * 100\r\n              let AB4     = sumReturnNeg / returnMin0 \r\n              let AA4     = sumReturnPos / returnMay0 \r\n              let E13     = porcOK / 100\r\n              AB4         = AB4 === 0 ? 1 : AB4\r\n              AA4         = AA4 === 0 ? 1 : AA4\r\n              fKelly      = ((E13-(1-E13)/(AB4/AA4))/10/2) * 100  \r\n              let E14     = (100 - (E13 * 100)) / 100\r\n              let AA3     = (sumReturnPos / returnMay0) * (E13 === 0 ? 1 : E13) \r\n              let AB3     = (sumReturnNeg / returnMin0) * (E14 === 0 ? 1 : E14) \r\n      \r\n              if(AB3 !== 0) {\r\n                if(AA3 !== 0) {\r\n                  mat = ((E13*(AA3/AB3))-E14)*-1\r\n                } else {\r\n                  mat = 0\r\n                }\r\n              } else {\r\n                mat = E13*AA3*100\r\n              }\r\n      \r\n              sysRent   = (mat < 1)  ? \"| Sistema NO Rentable\" : \"| Sistema Rentable\"\r\n              SLTP      = (E13<50 && porcOK<0) ? \"| Mas stop loss que take profits\" : \"\"\r\n              position  = ((fKelly===2) ? \"| Tamaño de posición neutral\" : (fKelly>2 ? \"| Posición Agresiva\" : \"\"));\r\n              question  = \"| ¿Leverage en perdidas muy alto? ¿RRR bajo?\";\r\n              SLPI      = (E14 > 90) ? \"| ¿stop-loss muy cercano a la entrada?\" : \"\"\r\n        }\r\n\r\n        /*\r\n            IF(\r\n                E12<>\"AGREGAR TRADES\";\r\n                IF(\r\n                    AND(\r\n                        E16<0;E12<>0;\r\n                        IF(\r\n                            E13<>0;\r\n                            (AVERAGEIF($Q$3:$Q$7;\">0\")/-AVERAGEIF($Q$3:$Q$7;\"<0\")-1) < -20%;\r\n                            0\r\n                        );\r\n                        E13>=E14\r\n                    );\r\n                    \"(*) ¿LEVERAGE EN PERDIDAS MUY ALTO? ¿RRR BAJO?\";\r\n                    0\r\n                );\r\n                0\r\n            )\r\n        */\r\n\r\n        return {\r\n          avgReturn,\r\n          porcOK, // E16\r\n          fKelly,\r\n          mat, // E12\r\n          sysRent,\r\n          SLTP,\r\n          position,\r\n          question,\r\n          SLPI\r\n        }\r\n    })\r\n\r\n    return {\r\n        calcR,\r\n        calcR2,\r\n        calcRF,\r\n        calcRisk,\r\n        calcRrr,\r\n        calcReturn,\r\n        calcTotals\r\n    }\r\n\r\n}\r\n\r\nexport default calcOPM","<template>\n  <div class=\"card-title text-start pt-2\">\n    <router-link :to=\"{ name: 'OPMTradePage' }\"           class=\"btn btn-sm btn-outline-warning m-1 border-0\" type=\"submit\"><i class=\"bi bi-plus-circle-fill\"></i> New</router-link>\n    <router-link :to=\"{ name: 'OPMTradeListDataPage' }\"   class=\"btn btn-sm btn-outline-warning m-1 border-0\" type=\"submit\"><i class=\"bi bi-archive\"></i> Data</router-link>\n    <router-link :to=\"{ name: 'OPMTradeListSetupPage' }\"  class=\"btn btn-sm btn-outline-warning m-1 border-0\" type=\"submit\"><i class=\"bi bi-gear\"></i> Setup</router-link>\n    <router-link :to=\"{ name: 'OPMCheckListPage' }\"       class=\"btn btn-sm btn-outline-warning m-1 border-0\" type=\"submit\"><i class=\"bi bi-gear\"></i> Checklist</router-link>\n  </div>\n  <div class=\"card-text\">\n    <div class=\"row align-items-start align-items-end\">\n      <div class=\"col-12 col-sm-2 mb-2\">\n        <div class=\"input-group\">\n          <select class=\"form-select form-select-sm border-0 shadow-sm bg-dark text-white\" aria-label=\"Default select example\" @change=\"filterData\" v-model=\"filterStatus\">\n            <option value=\"open\">Open</option>\n            <option value=\"closed\">Closed</option>\n            <option value=\"all\" selected>All</option>\n          </select>\n          <div class=\"form-check form-check-inline mx-2\">\n            <input class=\"form-check-input shadow-none border-warning\" type=\"checkbox\" id=\"filterTest\" value=\"option3\" :checked=\"filterIsTest\" @click=\"filterData(true)\" v-model=\"filterIsTest\">\n            <label class=\"form-check-label text-muted\" for=\"filterTest\">Test</label>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-12 col-sm-10 text-end mb-2 d-flex justify-content-end text-white\">\n        <span class=\"bg-secondary bg-opacity-10 px-1 text-white text-opacity-50 border-bottom border-secondary px-1 mx-2\" title=\"MAT.\" onclick=\"alert(this.title);\">\n          <small><span class=\"d-none d-sm-inline\">MAT</span> {{totalTrades.mat.toFixed(2)}}</small>\n        </span>\n        <span class=\"bg-secondary bg-opacity-10 px-1 text-white text-opacity-50 border-bottom border-secondary px-1\" title=\"F.Kelly\" onclick=\"alert(this.title);\">\n          <small><span class=\"d-none d-sm-inline\">F.Kelly</span> {{totalTrades.fKelly.toFixed(2)}}%</small>\n        </span>\n        <span class=\"bg-secondary bg-opacity-10 px-1 text-white text-opacity-50 border-bottom border-secondary px-1 mx-2\" title=\"AVG Return.\" onclick=\"alert(this.title);\">\n          <small><span class=\"d-none d-sm-inline\">AVG Return</span> {{totalTrades.avgReturn.toFixed(2)}}%</small>\n        </span>\n        <span class=\"bg-secondary bg-opacity-10 px-1 text-white text-opacity-50 border-bottom border-secondary px-1\" title=\"AVG Hits.\" onclick=\"alert(this.title);\">\n          <small><span class=\"d-none d-sm-inline\">AVG Hits</span> {{totalTrades.porcOK.toFixed(2)}}%</small>\n        </span>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <span class=\"\">\n          <div class=\"card bg-transparent text-white text-muted border-0 rounded-0\">\n            <div class=\"card-body py-1 px-1\">\n              <small>\n                {{totalTrades.sysRent}} \n                {{totalTrades.SLTP}} \n                {{totalTrades.position}} \n                {{totalTrades.question}} \n                {{totalTrades.SLPI}}\n              </small>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n  </div>\n  <div class=\"table-responsive pb-2\">\n    <table class=\"table table-sm table-hover w-100 my-2 border-dark bg-dark bg-opacity-50\" style=\"width:1600px;\">\n      <thead class=\"table text-center bg-dark bg-opacity-75 text-white text-opacity-75 border-dark\">\n        <tr>\n          <td class=\"border-start border-1 border-dark\"></td>\n          <td><small>&nbsp;</small></td>\n          <td v-if=\"tradeSetup.average?.visible\"><small>X</small></td>\n          <td v-if=\"tradeSetup.priceIn?.visible\"><small>EP</small></td>\n          <td v-if=\"tradeSetup.mL?.visible\"><small>M/L</small></td>\n          <td v-if=\"tradeSetup.stopLoss?.visible\"><small>SL</small></td>\n          <td v-if=\"tradeSetup.takeProfit?.visible\"><small>TP</small></td>\n          <td v-if=\"tradeSetup.priceClose?.visible\"><small>CP</small></td> \n          <td v-if=\"tradeSetup.risk?.visible\"><small>Risk</small></td>\n          <td v-if=\"tradeSetup.rf?.visible\"><small>RF</small></td>\n          <td v-if=\"tradeSetup.lM?.visible\"><small>L/M</small></td>\n          <td v-if=\"tradeSetup.rrr?.visible\"><small>RRR</small></td>\n          <td v-if=\"tradeSetup.r?.visible\"><small>R</small></td>\n          <td v-if=\"tradeSetup.r2?.visible\"><small>R2</small></td>\n          <td v-if=\"tradeSetup.return?.visible\" class=\"border-end border-1 border-dark\"><small>Return</small></td>\n        </tr>\n      </thead>\n      <tbody class=\"text-white text-opacity-75\" v-if=\"tradesData.length\">\n        <tr v-for=\"(item) in tradesData\" :key=\"item.id\">\n          <td class=\"border-start border-dark\" :class=\"[item.orderType === 'test' ? (item.position === 'long' ? 'text-secondary bg-success bg-opacity-10' : 'text-secondary bg-danger bg-opacity-10') : (item.position === 'long' ? 'bg-success bg-opacity-10 text-success' : 'bg-danger bg-opacity-10 text-danger text-opacity-75')]\">\n            <i v-if=\"item.status === 'open'\" class=\"bi bi-file-earmark-check\"></i>\n            <i v-if=\"item.status === 'closed'\" class=\"bi bi-file-earmark-excel\"></i>\n            </td>\n          <td class=\"text-end border-end border-dark\" :class=\"[item.position === 'long' ? 'bg-success bg-opacity-10 text-success' : 'bg-danger bg-opacity-10 text-danger text-opacity-75']\">\n            <router-link :to=\"{ name: 'OPMTradePage', params: {id: ''+item.id+''}}\" :class=\"[item.position === 'long' ? 'text-success' : 'text-danger']\">{{item.per ? item.per : '&nbsp;&nbsp;&nbsp;'}}</router-link>\n          </td>\n          <td v-if=\"tradeSetup.average.visible\" class=\"text-end border-end border-dark\">{{item.x}}</td>\n          <td v-if=\"tradeSetup.priceIn?.visible\" class=\"text-end border-end border-dark\">{{item.priceIn}}</td>\n          <td v-if=\"tradeSetup.mL?.visible\" class=\"text-end border-end border-dark\">{{item.mL}}</td>\n          <td v-if=\"tradeSetup.stopLoss?.visible\" class=\"text-end border-end border-dark\">{{item.stopLoss}}</td>\n          <td v-if=\"tradeSetup.takeProfit?.visible\" class=\"text-end border-end border-dark\">{{item.takeProfit}}</td>\n          <td v-if=\"tradeSetup.priceClose?.visible\" class=\"text-end border-end border-dark\">{{item.priceClose}}</td>\n          <td v-if=\"tradeSetup.risk?.visible\" class=\"text-end border-end border-dark\" :class=\"[item.calcRisk < 0 ? 'bg-danger bg-opacity-10 text-danger text-opacity-75' : 'bg-success bg-opacity-10 text-success']\">{{item.calcRisk?.toFixed(2)}}</td>\n          <td v-if=\"tradeSetup.rf?.visible\" class=\"text-end border-end border-dark\">{{item.calcRF?.toFixed(2)}}</td>\n          <td v-if=\"tradeSetup.lM?.visible\" class=\"text-end border-end border-dark\">{{item.lM}}</td>\n          <td v-if=\"tradeSetup.rrr?.visible\" class=\"text-end border-end border-dark\">{{item.calcRrr}}</td>\n          <td v-if=\"tradeSetup.r?.visible\" class=\"text-end border-end border-dark\" :class=\"[item.calcR < 0 ? 'bg-danger bg-opacity-10 text-danger text-opacity-75' : item.calcR === 0 ? 'bg-warning bg-opacity-10 text-warning' : 'bg-success bg-opacity-10 text-success']\">{{item.calcR?.toFixed(2)}}%</td>\n          <td v-if=\"tradeSetup.r2?.visible\" class=\"text-end border-end border-dark\" :class=\"[item.calcR2 < 0 ? 'bg-danger bg-opacity-10 text-danger text-opacity-75' : item.calcR2 === 0 ? 'bg-warning bg-opacity-10 text-warning' : 'bg-success bg-opacity-10 text-success']\">{{item.calcR2?.toFixed(2)}}%</td>\n          <td v-if=\"tradeSetup.return?.visible\" class=\"text-end border-end border-dark\" :class=\"[item.calcReturn < 0 ? 'bg-danger bg-opacity-10 text-danger text-opacity-75' : item.calcReturn === 0 ? 'bg-warning bg-opacity-10 text-warning' : 'bg-success bg-opacity-10 text-success']\">{{item.calcReturn?.toFixed(2)}}%</td>\n        </tr>\n      </tbody>\n      <tbody v-else>\n        <tr>\n          <td colspan=\"15\" class=\"text-white text-opacity-25 p-2\">\n            - Create a trade <router-link :to=\"{ name: 'OPMTradePage' }\" class=\"text-warning text-decoration-none\">here</router-link>\n            <br/>\n            - More information about <Icon name=\"BarChartFill\"  /> myTrades <router-link :to=\"{ name: 'AboutPage' }\" class=\"text-warning text-decoration-none\">here</router-link>.\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"text-secondary text-opacity-75\">\n      <small>\n        Trade: <div class=\"d-inline\"><i class=\"bi bi-file-earmark-check\"></i> active</div> or\n        <div class=\"d-inline\"><i class=\"bi bi-file-earmark-excel\"></i> closed</div>&nbsp; (no color is test)\n      </small>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport apiTrade from '@/services/trade'\nimport Icon from '@/components/Icon'\nimport calcOPM from '@/utils/calcOPM'\n\nexport default {\n  name: 'OPMTradeListPage',\n  components: {\n    Icon\n  },\n  props: { message: String},\n  beforeEnter(_, from){\n    if(from.name !== 'tradePage') {\n      const store = useStore()\n      store.commit('setMessage', {})\n    }\n  },\n  setup () {\n    const store           = useStore()\n    const trades          = ref([])\n    const filterIsTest    = ref(true)\n    const filterStatus    = ref('all')\n    const tradeSetup      = ref({})\n    const { calcTotals }  = calcOPM(trades)\n    const totalTrades     = calcTotals\n    store.commit('setTitle', 'Trades OPM')\n\n    onMounted(async () => {\n      apiTrade.getList().then(resultTrades => {\n        resultTrades.isVisible = true\n        trades.value = resultTrades\n      })\n      await store.dispatch('loadTradeSetupOPM')\n      tradeSetup.value = store.state.tradeSetupOPM.columns\n    })\n\n    const filterData = (isCheck) => {\n\n      if(isCheck === true) filterIsTest.value = !filterIsTest.value\n\n      apiTrade.getList().then(result => {\n\n          trades.value = result.filter(trade => {\n\n            if(filterIsTest.value) {\n              if(filterStatus.value === \"all\") return  true\n              else return filterStatus.value === trade.status\n            }\n\n            if(filterStatus.value === \"all\")    return trade.orderType !== 'test'\n            if(filterStatus.value === \"closed\") return trade.status === 'closed' && trade.orderType !== 'test'\n            if(filterStatus.value === \"open\")   return trade.status === 'open' && trade.orderType !== 'test'\n        })\n      })\n    }\n\n    const tradesData = computed(() => trades.value )\n\n    return {\n      tradesData,\n      totalTrades,\n      filterData,\n      filterIsTest,\n      filterStatus,\n      tradeSetup\n    }\n  }\n}\n</script>\n","import { render } from \"./TradeListPage.vue?vue&type=template&id=7bdf7b3d\"\nimport script from \"./TradeListPage.vue?vue&type=script&lang=js\"\nexport * from \"./TradeListPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\usuario\\\\Desktop\\\\github\\\\mytrades\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["numberToFraction","amount","parseFloat","parseInt","gcd","a","b","Math","floor","len","toString","length","denominator","pow","numerator","divisor","base","calcOPM","data","calcR","computed","trade","isPositionLong","value","position","priceClose","priceIn","xValue","x","divPriceIn","divPriceClose","calcR2","isMlMarket","mL","isEqualPrice","calcRValue","calcRF","takeProfit","calcRisk","stopLoss","calcRrr","calcRiskValue","calcRFValue","calcRRRF","split","join","calcReturn","isLmMarket","lM","calcR2Value","calcTotals","trades","avgReturn","avgReturnCount","returnMay0","returnMin0","porcOK","fKelly","sumReturnPos","sumReturnNeg","mat","hasTrades","sysRent","SLTP","question","SLPI","forEach","ret","AB4","AA4","E13","E14","AA3","AB3","class","_createElementVNode","selected","_hoisted_14","_hoisted_15","_hoisted_16","for","title","onclick","style","_hoisted_41","_hoisted_44","_hoisted_47","_hoisted_50","_hoisted_53","_hoisted_56","_hoisted_59","_hoisted_62","_hoisted_65","_hoisted_68","_hoisted_71","_hoisted_74","_hoisted_77","colspan","_createVNode","_component_router_link","to","name","type","_hoisted_2","_hoisted_4","_hoisted_6","_hoisted_8","onChange","$setup","$event","id","checked","onClick","_hoisted_20","_hoisted_23","_toDisplayString","toFixed","_hoisted_25","_hoisted_27","_hoisted_29","_hoisted_38","_hoisted_39","average","visible","_createElementBlock","_hoisted_40","_hoisted_42","_hoisted_43","_hoisted_45","_hoisted_46","_hoisted_48","_hoisted_49","_hoisted_51","_hoisted_52","_hoisted_54","_hoisted_55","_hoisted_57","risk","_hoisted_58","_hoisted_60","rf","_hoisted_61","_hoisted_63","_hoisted_64","_hoisted_66","rrr","_hoisted_67","_hoisted_69","r","_hoisted_70","_hoisted_72","r2","_hoisted_73","_hoisted_75","return","_hoisted_78","_Fragment","_renderList","item","key","orderType","status","params","per","_hoisted_91","_hoisted_95","_component_Icon","_hoisted_100","components","Icon","props","message","String","beforeEnter","_","from","store","useStore","commit","setup","ref","filterIsTest","filterStatus","tradeSetup","totalTrades","onMounted","async","apiTrade","then","resultTrades","isVisible","dispatch","state","tradeSetupOPM","columns","filterData","isCheck","result","filter","tradesData","__exports__","render"],"sourceRoot":""}
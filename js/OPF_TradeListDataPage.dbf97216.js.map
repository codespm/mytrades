{"version":3,"file":"js/OPF_TradeListDataPage.dbf97216.js","mappings":"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","sources":["webpack://mytrades/./src/composables/usePage.js","webpack://mytrades/./src/utils/common.js","webpack://mytrades/./src/pages/OPF/TradeListDataPage.vue","webpack://mytrades/./src/pages/OPF/TradeListDataPage.vue?62b0"],"sourcesContent":["import { ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nconst usePage = ( {title, message = {}} ) => {\r\n\r\n    const store = useStore()\r\n    store.commit('setTitle', title)\r\n    store.commit('setMessage', message)\r\n    const isLoading = ref(true)\r\n    const setMessage = ( { value, type } ) => {\r\n        store.commit('setMessage', { value, type })\r\n    }\r\n    return {\r\n        isLoading,\r\n        setMessage\r\n    }\r\n\r\n}\r\n\r\nexport default usePage","const getTimeToFormat = (time) => {\r\n    console.log(time);\r\n    let date = (time === 0 || time === undefined) ? new Date() : new Date(time);\r\n    let day = date.getDate();\r\n    let month = date.getMonth() + 1;\r\n    let year = date.getFullYear();\r\n    let hour = (date.getHours() <= 9 ? '0' : '') + date.getHours(); \r\n    let minute = (date.getMinutes() <= 9 ? '0' : '') + date.getMinutes(); \r\n    //let second = (date.getSeconds() <= 9 ? '0' : '') + date.getSeconds();\r\n    return '' + year + '-' + (month<=9 ? '0' + month : month) + '-' + (day <= 9 ? '0' + day : day) + ' ' + hour + ':' + minute; // + ':' + second;\r\n}\r\n\r\nconst currentDateTime = () => {\r\n    let date    = new Date();\r\n    let day     = date.getDate();\r\n    let month   = date.getMonth() + 1;\r\n    let year    = date.getFullYear();\r\n    let hour    = (date.getHours() <= 9 ? '0' : '') + date.getHours(); \r\n    let minute  = (date.getMinutes() <= 9 ? '0' : '') + date.getMinutes(); \r\n    let second  = (date.getSeconds() <= 9 ? '0' : '') + date.getSeconds();\r\n    return '' + year + '-' + (month<=9 ? '0' + month : month) + '-' + (day <= 9 ? '0' + day : day) + '-' + hour + '-' + minute + '-' + second;\r\n}\r\n\r\nexport default {\r\n\tgetTimeToFormat,\r\n    currentDateTime\r\n}","<template>\r\n  <div class=\"p-1 text-muted\" v-if=\"!isLoading\">\r\n    <ol class=\"list-group text-white text-opacity-75\">\r\n      <li class=\"list-group-item bg-transparent border-0 text-white text-opacity-75 px-0\">\r\n        <div class=\"ms-2 me-auto\">\r\n          <label class=\"text-warning\">Import</label>\r\n          <br/>\r\n          <br/>\r\n          <input class=\"form-control form-control-sm bg-dark text-muted border-0\" accept=\".csv\" type=\"file\" @change=\"handleFileUpload($event)\">\r\n          <small class=\"text-muted\">\r\n            <b>Format</b>: Separate by comma.\r\n            <div class=\"alert bg-dark mt-2 mb-0\">\r\n              Order fields:\r\n              <br/>\r\n              <br/>\r\n              per, position, reliability, stakeAmount, temporality, average, priceIn, stopLoss,\r\n              takeProfit, priceClose, feeIn, feeOut, orderType, createdByUser, status\r\n            </div>\r\n          </small>\r\n        </div>\r\n      </li>\r\n      <li class=\"list-group-item bg-transparent border-0 text-white text-opacity-75 px-0\">\r\n        <div class=\"ms-2 me-auto\">\r\n          <label class=\"text-warning\">Export</label>\r\n          <br/>\r\n          <button class=\"btn btn-sm btn-warning my-2\" @click.prevent=\"downloadData()\">Download File</button>\r\n        </div>\r\n      </li>\r\n      <li class=\"list-group-item bg-transparent  border-0 text-white text-opacity-75 px-0\">\r\n        <div class=\"ms-2 me-auto\">\r\n          <label class=\"text-warning\">Remove</label><br/>\r\n          <small class=\"text-muted \">Delete all data, no recovery, previously make a backup.</small><br/>\r\n          <button class=\"btn btn-sm btn-warning my-2\" @click.prevent=\"removeData()\">Remove</button>\r\n        </div>\r\n      </li>\r\n    </ol>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport apiTrade from '@/services/trade'\r\nimport { useRouter } from 'vue-router'\r\nimport usePage from '@/composables/usePage'\r\nimport common from '@/utils/common'\r\n\r\nexport default {\r\n  name: 'OPFTradeListDataPage',\r\n  setup () {\r\n    const router  = useRouter()\r\n    const page    = usePage({title: 'Data'})\r\n\r\n    page.isLoading.value = false\r\n\r\n    const removeData = () => {\r\n      apiTrade.removeAll().then(() => {\r\n        page.setMessage({ value: 'Â¡removed data!', type: 'success'})\r\n        router.push({ name: 'OPMTradeListPage'})\r\n      }).catch(console.error)\r\n    }\r\n\r\n    const handleFileUpload = (event) => {\r\n      let file = event.target.files[0]\r\n      if (file) {\r\n        let reader = new FileReader();\r\n        reader.readAsText(file, \"UTF-8\");\r\n        reader.onload = function (evt) {\r\n          let data = evt.target.result.split('\\n')\r\n          for(let i=0;i<data.length;i++) {\r\n            alert(data[i])\r\n          }\r\n        }\r\n        reader.onerror = function () {\r\n          alert(\"error reading file\");\r\n        }\r\n      }\r\n    }\r\n\r\n    const downloadData = () => {\r\n      const data    = { id: 1,name: \"Geeks\",profession: \"developer\"}\r\n      let csvRows   = [];\r\n      const headers = Object.keys(data);\r\n      csvRows.push(headers.join(','));\r\n      const values  = Object.values(data).join(',');\r\n      csvRows.push(values)\r\n      const blob    = new Blob([csvRows.join('\\n')], { type: 'text/csv' });\r\n      const url     = window.URL.createObjectURL(blob)\r\n      const a       = document.createElement('a')\r\n      a.setAttribute('href', url)\r\n      a.setAttribute('download', 'CNmT-' + common.currentDateTime() + '.csv');\r\n      a.click()\r\n    }\r\n\r\n    return {\r\n      downloadData,\r\n      removeData,\r\n      isLoading: page.isLoading,\r\n      handleFileUpload\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./TradeListDataPage.vue?vue&type=template&id=2f518fab\"\nimport script from \"./TradeListDataPage.vue?vue&type=script&lang=js\"\nexport * from \"./TradeListDataPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\usuario\\\\Desktop\\\\github\\\\mytrades\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["usePage","title","message","store","useStore","commit","isLoading","ref","setMessage","value","type","getTimeToFormat","time","console","log","date","undefined","Date","day","getDate","month","getMonth","year","getFullYear","hour","getHours","minute","getMinutes","currentDateTime","second","getSeconds","class","_createElementVNode","$setup","_createElementBlock","_hoisted_5","_hoisted_6","_hoisted_7","accept","onChange","$event","_hoisted_8","_hoisted_11","_hoisted_12","onClick","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","name","setup","router","useRouter","page","removeData","apiTrade","then","push","catch","error","handleFileUpload","event","file","target","files","reader","FileReader","readAsText","onload","evt","data","result","split","i","length","alert","onerror","downloadData","id","profession","csvRows","headers","Object","keys","join","values","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","setAttribute","common","click","__exports__","render"],"sourceRoot":""}